<div class="col-md-12 border">
  <div class="card">
    <h4 class="card-header">Mange Profile</h4>
    <div class="card-body px-4">
      <form *ngIf="user" [formGroup]="updateUserForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="fullName">Full Name</label>
          <div class="inputWrapper float-right">
            <input formControlName="fullName" type="text" class="form-control" placeholder="Full Name" name="fullName"
              [class.is-invalid]="formFields.fullName?.invalid && formFields.fullName?.touched">
            <div *ngIf="formFields.fullName?.invalid && formFields.fullName?.touched">
              <small class="text-danger" *ngIf="formFields.fullName?.errors.required">Full Name is required</small>
            </div>
          </div>
        </div>


        <div class="form-group">
          <label for="email">Email</label>
          <div class="inputWrapper float-right">
            <input formControlName="email" type="email" class="form-control" placeholder="Email" name="email"
              [class.is-invalid]="formFields.email?.invalid && formFields.email?.touched">
            <div *ngIf="formFields.email?.invalid && formFields.email?.touched">
              <small class="text-danger" *ngIf="formFields.email?.errors.required">Email is required</small>
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="phoneNumber">Phone number</label>
          <div class="inputWrapper float-right">
            <input formControlName="phoneNumber" type="text" class="form-control" placeholder="Phone number"
              name="phoneNumber"
              [class.is-invalid]="formFields.phoneNumber?.invalid && formFields.phoneNumber?.touched">
            <div *ngIf="formFields.phoneNumber?.invalid && formFields.phoneNumber?.touched">
              <small class="text-danger" *ngIf="formFields.phoneNumber?.errors.required">Phone number is
                required</small>
            </div>
          </div>
        </div>
        <!-- Doctor  -->
        <div *ngIf="user.isDoctor">

          <div class="form-group">
            <label for="titleDegree">Title Degree</label>
            <div class="inputWrapper float-right">
              <select class="form-control" formControlName="titleDegree">
                <option value="" disabled selected hidden>Choose title Degree</option>
                <option *ngFor="let title of TitlesDegree" value="{{title}}">{{title}}</option>
              </select>

              <div *ngIf="formFields.titleDegree?.invalid && formFields.titleDegree?.touched">
                <small class="text-danger" *ngIf="formFields.titleDegree?.errors.required">titleDegree is
                  required</small>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="doctorInfo">Your Info</label>
            <div class="inputWrapper float-right">
              <textarea formControlName="doctorInfo" class="form-control" placeholder="Write about yourself"
                name="doctorInfo"
                [class.is-invalid]="formFields.doctorInfo?.invalid && formFields.doctorInfo?.touched"></textarea>
              <div *ngIf="formFields.doctorInfo?.invalid && formFields.doctorInfo?.touched">
                <small class="text-danger" *ngIf="formFields.doctorInfo?.errors.required">Your info is required</small>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="username">Specialty</label>
            <div class="inputWrapper float-right">
              <select class="form-control" formControlName="specialtyId">
                <option value="" disabled selected hidden>Choose specialty</option>
                <option *ngFor="let specialty of allSpecialty" [ngValue]="specialty.id">{{specialty.name}}</option>
              </select>

              <div *ngIf="formFields.specialtyId?.invalid && formFields.specialtyId?.touched">
                <small class="text-danger" *ngIf="formFields.specialtyId?.errors.required">specialty is required</small>
              </div>
            </div>
          </div>


        </div>

        <div class="registerBtnWrapper text-center mt-5">
          <button [disabled]="loading" class="btn btn-danger px-4">
            <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
            Save
          </button>

          <button class="btn  btn-light px-3" style="margin-left: 8px;" (click)="onCancel()" type="button">
            Cancel
          </button>
        </div>

        <div *ngIf="error" class="alert alert-danger mt-3 mb-0">{{error}}</div>

      </form>

    </div>
  </div>
</div>
